<!-- saved from url=(0014)about:internet -->
<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="37,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T2U3">dcm</span>] = angle2dcm(<span class="var type1" id="S3T4U6">x1</span>,<span class="var type1" id="S4T4U7">x2</span>,<span class="var type1" id="S5T4U8">x3</span>,<span class="var type1" id="S6T4U9">seq</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="37,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">% dcm = angle2dcm(r1,r2,r3,seq)</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">% builds euler angle rotation matrix</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">% </span></span></span>
<span class="srcline"><span class="lineno"><a href="37,5" id="srcline5"> 5</a></span><span class="line"><span class="comment">% r = [r1 r2 r3]</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">% seq = 'ZYX' (default)</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">%       'ZXZ'</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,8" id="srcline8"> 8</a></span><span class="line"><span class="comment">% dcm = direction cosine matrix</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,9" id="srcline9"> 9</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="37,10" id="srcline10">10</a></span><span class="line"><span class="mxinfo " id="T9:U6"><span class="var type1" id="S7T9U12">r</span> = <span class="mxinfo " id="T9:U8">[<span class="var type1" id="S3T4U15">x1</span>, <span class="var type1" id="S4T4U16">x2</span>, <span class="var type1" id="S5T4U17">x3</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,11" id="srcline11">11</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="37,12" id="srcline12">12</a></span><span class="line"><span class="keyword">switch</span> <span class="var type1" id="S6T4U19">seq</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,13" id="srcline13">13</a></span><span class="line">  <span class="keyword">case</span> <span class="mxinfo " id="T4:U13">321</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,14" id="srcline14">14</a></span><span class="line">    <span class="mxinfo " id="T2:U14"><span class="var type1" id="S2T2U24">dcm</span> = <span class="mxinfo " id="T2:U16"><span class="mxinfo " id="T2:U17"><span class="mxinfo " id="T2:U18"><span class="fcn" id="F47N3:B28">Tx</span>(<span class="mxinfo " id="T4:U19"><span class="var type1" id="S7T9U30">r</span>(<span class="mxinfo " id="T15:U21">3</span>)</span>)</span>*<span class="mxinfo " id="T2:U22"><span class="fcn" id="F82N4:B33">Ty</span>(<span class="mxinfo " id="T4:U23"><span class="var type1" id="S7T9U35">r</span>(<span class="mxinfo " id="T15:U25">2</span>)</span>)</span></span>*<span class="mxinfo " id="T2:U26"><span class="fcn" id="F100N5:B38">Tz</span>(<span class="mxinfo " id="T4:U27"><span class="var type1" id="S7T9U40">r</span>(<span class="mxinfo " id="T15:U29">1</span>)</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,15" id="srcline15">15</a></span><span class="line">  <span class="keyword">case</span> <span class="mxinfo " id="T4:U30">313</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,16" id="srcline16">16</a></span><span class="line">    <span class="mxinfo " id="T2:U31"><span class="var type1" id="S2T2U46">dcm</span> = <span class="mxinfo " id="T2:U33"><span class="mxinfo " id="T2:U34"><span class="mxinfo " id="T2:U35"><span class="fcn" id="F100N5:B50">Tz</span>(<span class="mxinfo " id="T4:U36"><span class="var type1" id="S7T9U52">r</span>(<span class="mxinfo " id="T15:U38">3</span>)</span>)</span>*<span class="mxinfo " id="T2:U39"><span class="fcn" id="F47N3:B55">Tx</span>(<span class="mxinfo " id="T4:U40"><span class="var type1" id="S7T9U57">r</span>(<span class="mxinfo " id="T15:U42">2</span>)</span>)</span></span>*<span class="mxinfo " id="T2:U43"><span class="fcn" id="F100N5:B60">Tz</span>(<span class="mxinfo " id="T4:U44"><span class="var type1" id="S7T9U62">r</span>(<span class="mxinfo " id="T15:U46">1</span>)</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,17" id="srcline17">17</a></span><span class="line">  <span class="keyword">case</span> <span class="mxinfo " id="T4:U47">123</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,18" id="srcline18">18</a></span><span class="line">    <span class="mxinfo " id="T2:U48"><span class="var type1" id="S2T2U68">dcm</span> = <span class="mxinfo " id="T2:U50"><span class="mxinfo " id="T2:U51"><span class="mxinfo " id="T2:U52"><span class="fcn" id="F47N3:B72">Tx</span>(<span class="mxinfo " id="T4:U53"><span class="var type1" id="S7T9U74">r</span>(<span class="mxinfo " id="T15:U55">1</span>)</span>)</span>*<span class="mxinfo " id="T2:U56"><span class="fcn" id="F82N4:B77">Ty</span>(<span class="mxinfo " id="T4:U57"><span class="var type1" id="S7T9U79">r</span>(<span class="mxinfo " id="T15:U59">2</span>)</span>)</span></span>*<span class="mxinfo " id="T2:U60"><span class="fcn" id="F100N5:B82">Tz</span>(<span class="mxinfo " id="T4:U61"><span class="var type1" id="S7T9U84">r</span>(<span class="mxinfo " id="T15:U63">3</span>)</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,19" id="srcline19">19</a></span><span class="line">  <span class="keyword">otherwise</span></span></span>
<span class="srcline"><span class="lineno"><a href="37,20" id="srcline20">20</a></span><span class="line">    <span class="mxinfo " id="T2:U64"><span class="var type1" id="S2T2U89">dcm</span> = <span class="mxinfo " id="T2:U66"><span class="mxinfo " id="T2:U67"><span class="mxinfo " id="T2:U68"><span class="fcn" id="F47N3:B93">Tx</span>(<span class="mxinfo " id="T4:U69"><span class="var type1" id="S7T9U95">r</span>(<span class="mxinfo " id="T15:U71">1</span>)</span>)</span>*<span class="mxinfo " id="T2:U72"><span class="fcn" id="F82N4:B98">Ty</span>(<span class="mxinfo " id="T4:U73"><span class="var type1" id="S7T9U100">r</span>(<span class="mxinfo " id="T15:U75">2</span>)</span>)</span></span>*<span class="mxinfo " id="T2:U76"><span class="fcn" id="F100N5:B103">Tz</span>(<span class="mxinfo " id="T4:U77"><span class="var type1" id="S7T9U105">r</span>(<span class="mxinfo " id="T15:U79">3</span>)</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="37,21" id="srcline21">21</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="37,22" id="srcline22">22</a></span><span class="line"></span></span>
</pre>
<div class="dead">
<pre class="code">
<span class="srcline"><span class="lineno"><a href="37,23" id="srcline23">23</a></span><span class="line">function A = Tx(a)</span></span>
<span class="srcline"><span class="lineno"><a href="37,24" id="srcline24">24</a></span><span class="line">A = [1 0 0;0 cosd(a) sind(a);0 -sind(a) cosd(a)];</span></span>
<span class="srcline"><span class="lineno"><a href="37,25" id="srcline25">25</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="37,26" id="srcline26">26</a></span><span class="line">function A = Ty(a)</span></span>
<span class="srcline"><span class="lineno"><a href="37,27" id="srcline27">27</a></span><span class="line">A = [cosd(a) 0 -sind(a);0 1 0;sind(a) 0 cosd(a)];</span></span>
<span class="srcline"><span class="lineno"><a href="37,28" id="srcline28">28</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="37,29" id="srcline29">29</a></span><span class="line">function A = Tz(a)</span></span>
<span class="srcline"><span class="lineno"><a href="37,30" id="srcline30">30</a></span><span class="line">A = [cosd(a) sind(a) 0;-sind(a) cosd(a) 0;0 0 1];</span></span>
<span class="srcline"><span class="lineno"><a href="37,31" id="srcline31">31</a></span><span class="line"> </span></span>
</pre>
</div>
</body>
</html>
